#:kivy 2.3.0

<-VersionButton@Button>
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Line:
            width: 0.5
            rectangle: self.x, self.y, self.width, self.height

<MainScreen>:    
	
	GridLayout:
		
		cols: 1
		rows: 5
			
    	Button:
			id: main_flash_device
			text: 'Flash Device'
			font_size: root.height // 25
			#font_name: 'terminus'
			background_color: 0, 0, 0, 0
			color: 1, 1, 1, 1
			on_press: root.before_goto_screen(name="FlashScreen")
    		on_release: root.goto_screen(name="FlashScreen", direction="left")
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height
		
		
    	Button:
			id: main_wipe_device
			text: 'Wipe Device'
			font_size: root.height // 25
        	#font_name: 'terminus'
			background_color: 0, 0, 0, 0
			color: 1, 1, 1, 1
			on_press: root.before_goto_screen(name="WipeScreen")
    		on_release: root.goto_screen(name="WipeScreen", direction="left")
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height

    	Button:
			id: main_settings
			text: 'Settings'
			font_size: root.height // 25
        	#font_name: 'terminus'
			background_color: 0, 0, 0, 0
			color: 1, 1, 1, 1
			on_press: root.before_goto_screen(name="SettingsScreen")
    		on_release: root.goto_screen(name="SettingsScreen", direction="left")
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height
        
    	Button:
			id: main_about
			text: 'About'
			font_size: root.height // 25
        	#font_name: 'terminus'
			background_color: 0, 0, 0, 0
			color: 1, 1, 1, 1
			on_press: root.before_goto_screen(name="AboutScreen")
    		on_release: root.goto_screen(name="AboutScreen", direction="left")
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height

<FlashScreen>:    

	GridLayout:
		
		cols: 1
		rows: 4
			
    	Button:
			id: flash_select_device
			text: 'Select Device'
			font_size: root.height // 25
			#font_name: 'terminus'
			background_color: 0, 0, 0, 0
			color: 1, 1, 1, 1
			on_press: root.before_goto_screen(name="SelectDeviceScreen")
    		on_release: root.goto_screen(name="SelectDeviceScreen", direction="left")
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height

    	Button:
			id: flash_select_version
			text: 'Select Version'
			font_size: root.height // 25
			#font_name: 'terminus'
			background_color: 0, 0, 0, 0
			color: 1, 1, 1, 1
			on_press: root.on_press(wid="flash_select_version")
    		on_release: root.on_release(wid="flash_select_version")
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height
        
    	Button:
			id: flash_execute
			text: 'Flash!'
			font_size: root.height // 25
			#font_name: 'terminus'
			background_color: 0, 0, 0, 0
			color: 1, 1, 1, 1
			on_press: root.on_press(wid="flash_execute")
    		on_release: root.on_release(wid="flash_execute")
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height

    	Button:
			id: flash_back
			text: 'Back'
			font_size: root.height // 25
			#font_name: 'terminus'
			background_color: 0, 0, 0, 0
			color: 1, 1, 1, 1
			on_press: root.on_press(wid="flash_back")
    		on_release: 
                root.on_release(wid="flash_back")
                root.set_screen(name="MainScreen", direction="right")
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height

<-DeviceButton@Button>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Line:
            width: 0.5
    		rectangle: self.x, self.y, self.width, self.height

<SelectDeviceScreen>:

    GridLayout:
        id: select_device_screen_grid
        cols: 1

<WipeScreen>:    

	GridLayout:
		
		cols: 1
		rows: 3
			
    	Button:
			id: wipe_select_device
			text: 'Select Device'
			font_size: root.height // 25
			#font_name: 'terminus'
			background_color: 0, 0, 0, 0
			color: 1, 1, 1, 1
			on_press: root.on_press(wid="wipe_select_device")
    		on_release: root.on_release(wid="wipe_select_device")
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height
       
    	Button:
			id: wipe_execute
			text: 'Wipe!'
			font_size: root.height // 25
			#font_name: 'terminus'
			background_color: 0, 0, 0, 0
			color: 1, 1, 1, 1
			on_press: root.on_press(wid="wipe_execute")
    		on_release: root.on_release(wid="wipe_execute")
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height

    	Button:
			id: wipe_back
			text: 'Back'
			font_size: root.height // 25
			#font_name: 'terminus'
			background_color: 0, 0, 0, 0
			color: 1, 1, 1, 1
			on_press: root.on_press(wid="wipe_back")
    		on_release: 
                root.on_release(wid="wipe_back")
                root.set_screen(name="MainScreen", direction="right")
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height

<SettingsScreen>:

    GridLayout:
        cols: 1
        rows: 3

        Button:
			id: destination_dir
			text: 'Destination directory'
			font_size: root.height // 25
			#font_name: 'terminus'
			background_color: 0, 0, 0, 0
			color: 1, 1, 1, 1
			on_press: root.on_press(wid="destination_dir")
    		on_release: 
                root.on_release(wid="destination_dir")
                root.set_screen(name="MainScreen", direction="right")
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height

        Button:
			id: baudrate
			text: 'Baudrate'
			font_size: root.height // 25
			#font_name: 'terminus'
			background_color: 0, 0, 0, 0
			color: 1, 1, 1, 1
			on_press: root.on_press(wid="baudrate")
    		on_release: 
                root.on_release(wid="baudrate")
                root.set_screen(name="MainScreen", direction="right")
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height

        Button:
			id: settings_back
			text: 'Back'
			font_size: root.height // 25
			#font_name: 'terminus'
			background_color: 0, 0, 0, 0
			color: 1, 1, 1, 1
			on_press: root.on_press(wid="settings_back")
    		on_release: 
                root.on_release(wid="settings_back")
                root.set_screen(name="MainScreen", direction="right")
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height
        
    
<AboutScreen>:

    GridLayout:
        cols: 1
        rows: 1
        
        Button:
            id: about_screen
            markup: True
            text: root.get_button_text()
            font_size: root.height // 25
            background_color: 0, 0, 0, 0
			color: 1, 1, 1, 1
            on_press: root.before_back()
            on_release: root.back()
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height
